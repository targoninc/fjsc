function h(p){return new q(p)}function B(p){return new T(p)}function U(){return h("div").styles("display","none").build()}function L(p,C,s=!1){function x(){if(C.constructor===Function)return C();return C}if(p&&p.constructor===T){let G=B(p.value?s?U():x():s?x():U());return p.subscribe((j)=>{if(j)G.value=s?U():x();else G.value=s?x():U()}),G}else return p?s?U():x():s?x():U()}function Q(p,C,s,x=!1){if(p.constructor!==T)throw new Error("Invalid argument type for signalMap. Must be a Signal.");let G=(j)=>{if(!j)return;let O=[];for(let f=0;f<j.length;f++)O.push(s(j[f],f));C.overwriteChildren(...O)};return p.subscribe(G),G(p.value),C.build()}function H(p,C){let s=B(C(p.value));return p.subscribe((x)=>{try{s.value=C(x)}catch(G){s.value=null}}),s}function K(p,C={}){console.warn(p,{debugInfo:C},new Error().stack)}class R{static assertString(p,C="value"){let s=p.constructor===String;if(!s)console.log("TypeHelper.isString: value is not a string for "+C+": ",p);return s}static assertFunction(p,C="value"){let s=p.constructor===Function;if(!s)console.log("TypeHelper.isFunction: value is not a function for "+C+": ",p);return s}}class P{static keyName="__fjs_store__";static get(p){return window[this.keyName][p]}static set(p,C){window[this.keyName][p]=C}static clear(){window[this.keyName]={}}static remove(p){delete window[this.keyName][p]}static getAll(){return window[this.keyName]}static keys(){return Object.keys(window[this.keyName])}static values(){return Object.values(window[this.keyName])}static getSignalValue(p){return this.get(p).value}static setSignalValue(p,C){this.get(p).value=C}}function X(p=null,C=null){if(!window[P.keyName])window[P.keyName]={};if(arguments.length===1)return P.get(arguments[0]);else if(arguments.length===2)return P.set(arguments[0],arguments[1]);throw new Error("Passing more than 2 arguments to store() is not supported.")}class T{_callbacks=[];_value;_values={};constructor(p,C=()=>{},s=null){if(this._value=p,this._values={},this._callbacks.push(C),s)X().set(s,this)}boolValues(p={}){for(let C in p)this._values[C]=B(this._value?p[C].onTrue:p[C].onFalse);return this.subscribe((C)=>{for(let s in p)this._values[s].value=C?p[s].onTrue:p[s].onFalse}),this._values}unsubscribeAll(){this._callbacks=[]}subscribe(p){this._callbacks.push(p)}unsubscribe(p){let C=this._callbacks.indexOf(p);if(C>=0)this._callbacks.splice(C,1)}get onUpdate(){return this._callbacks}set onUpdate(p){this._callbacks.push(p)}get value(){return this._value}set value(p){let C=this._value!==p;this._value=p,this._callbacks.forEach((s)=>s(p,C))}}function d(p){return[HTMLElement,SVGElement].some((s)=>p instanceof s)}class q{_node;svgTags=["svg","g","circle","ellipse","line","path","polygon","polyline","rect","text","textPath","tspan"];constructor(p){if(this.svgTags.includes(p))this._node=document.createElementNS("http://www.w3.org/2000/svg",p);else this._node=document.createElement(p)}applyGenericConfig(p){return this.classes("fjsc",...p.classes??[]).attributes(...p.attributes??[]).styles(...p.styles??[]).id(p.id).title(p.title).role(p.role)}build(){if(!d(this._node))throw new Error("Invalid node type. Must be an HTMLElement or a subclass.");return this._node}wrapProperty(p,C){if(C&&C.subscribe)this._node[p]=C.value,C.subscribe((s)=>{this._node[p]=s});else this._node[p]=C}class(p){return this.classes(p)}classes(...p){for(let C of p)if(C&&C.constructor===T){let s=C.value;this._node.classList.add(s),C.onUpdate=(x)=>{this._node.classList.remove(s),this._node.classList.add(x),s=x}}else this._node.classList.add(C);return this}attribute(p,C){return this.attributes(p,C)}attributes(...p){if(arguments.length%2===0)for(let C=0;C<arguments.length;C+=2){let s=arguments[C],x=arguments[C+1];if(R.assertString(s,"attributes/key"),x&&x.constructor===T)this._node.setAttribute(s,x.value),x.onUpdate=(G)=>{this._node.setAttribute(s,G)};else this._node.setAttribute(s,x)}else throw new Error("Invalid number of arguments for attributes. Must be even. (key, value, key, value, ...)");return this}id(p){return this.wrapProperty("id",p),this}text(p){return this.wrapProperty("innerText",p),this}title(p){return this.wrapProperty("title",p),this}html(p){return this.wrapProperty("innerHTML",p),this}children(...p){for(let C of arguments)if(d(C))this._node.appendChild(C);else if(C instanceof q)this._node.appendChild(C.build());else if(C&&C.constructor===T){let s=C.value;if(!d(s))s=U();this._node.appendChild(s),C.onUpdate=(x)=>{if(d(x))this._node.replaceChild(x,s),s=x;else if(x.constructor===q)this._node.replaceChild(x.build(),s),s=x.build();else K("Unexpected value for child. Must be an HTMLElement or a subclass.",x)}}else if(C&&C.constructor===Array)for(let s of C)this.children(s);else if(C)K("Invalid node type. Must be an HTMLElement or a subclass.",C);return this}overwriteChildren(){return this._node.innerHTML="",this.children(...arguments)}child(){return this.children(...arguments)}role(p){return this.wrapProperty("role",p),this}prefixedAttribute(p,C,s){return this.attributes(`${p}-${C}`,s)}aria(p,C){return this.prefixedAttribute("aria",p,C)}data(p,C){return this.prefixedAttribute("data",p,C)}onclick(p){return this._node.onclick=p,this}onauxclick(p){return this._node.onauxclick=p,this}ondblclick(p){return this._node.ondblclick=p,this}onchange(p){return this._node.onchange=p,this}oninput(p){return this._node.oninput=p,this}onkeydown(p){return this._node.onkeydown=p,this}onkeyup(p){return this._node.onkeyup=p,this}onmousedown(p){return this._node.onmousedown=p,this}onmouseup(p){return this._node.onmouseup=p,this}onmouseover(p){return this._node.onmouseover=p,this}onmouseout(p){return this._node.onmouseout=p,this}onmousemove(p){return this._node.onmousemove=p,this}onmouseenter(p){return this._node.onmouseenter=p,this}onmouseleave(p){return this._node.onmouseleave=p,this}oncontextmenu(p){return this._node.oncontextmenu=p,this}onwheel(p){return this._node.onwheel=p,this}ondrag(p){return this._node.ondrag=p,this}ondragend(p){return this._node.ondragend=p,this}ondragenter(p){return this._node.ondragenter=p,this}ondragstart(p){return this._node.ondragstart=p,this}ondragleave(p){return this._node.ondragleave=p,this}ondragover(p){return this._node.ondragover=p,this}ondrop(p){return this._node.ondrop=p,this}onscroll(p){return this._node.onscroll=p,this}onfocus(p){return this._node.onfocus=p,this}onblur(p){return this._node.onblur=p,this}onresize(p){return this._node.onresize=p,this}onselect(p){return this._node.onselect=p,this}onsubmit(p){return this._node.onsubmit=p,this}onreset(p){return this._node.onreset=p,this}onabort(p){return this._node.onabort=p,this}onerror(p){return this._node.onerror=p,this}oncanplay(p){return this._node.oncanplay=p,this}oncanplaythrough(p){return this._node.oncanplaythrough=p,this}ondurationchange(p){return this._node.ondurationchange=p,this}onemptied(p){return this._node.onemptied=p,this}onended(p){return this._node.onended=p,this}onloadeddata(p){return this._node.onloadeddata=p,this}onloadedmetadata(p){return this._node.onloadedmetadata=p,this}onloadstart(p){return this._node.onloadstart=p,this}onpause(p){return this._node.onpause=p,this}onplay(p){return this._node.onplay=p,this}onplaying(p){return this._node.onplaying=p,this}onprogress(p){return this._node.onprogress=p,this}onratechange(p){return this._node.onratechange=p,this}onseeked(p){return this._node.onseeked=p,this}onseeking(p){return this._node.onseeking=p,this}onstalled(p){return this._node.onstalled=p,this}onsuspend(p){return this._node.onsuspend=p,this}ontimeupdate(p){return this._node.ontimeupdate=p,this}onvolumechange(p){return this._node.onvolumechange=p,this}onwaiting(p){return this._node.onwaiting=p,this}oncopy(p){return this._node.oncopy=p,this}oncut(p){return this._node.oncut=p,this}onpaste(p){return this._node.onpaste=p,this}onanimationstart(p){return this._node.onanimationstart=p,this}onanimationend(p){return this._node.onanimationend=p,this}onanimationiteration(p){return this._node.onanimationiteration=p,this}ontransitionend(p){return this._node.ontransitionend=p,this}on(p,C){return this._node.addEventListener(p,C),this}open(p){return this.wrapProperty("open",p),this}src(p){return this.wrapProperty("src",p),this}alt(p){return this.wrapProperty("alt",p),this}css(p){return this._node.style.cssText=p,this}style(p,C){return this.styles(p,C)}styles(...p){if(arguments.length%2===0)for(let C=0;C<arguments.length;C+=2){let s=arguments[C],x=arguments[C+1];if(s.constructor!==String)throw new Error("Invalid key type for styles. Must be a string.");if(x&&x.constructor===T)this._node.style[s]=x.value,x.onUpdate=(G)=>{this._node.style[s]=G};else this._node.style[s]=x}else throw new Error("Invalid number of arguments for styles. Must be even. (key, value, key, value, ...)");return this}width(p){return this.wrapProperty("width",p),this}height(p){return this.wrapProperty("height",p),this}type(p){return this.wrapProperty("type",p),this}name(p){return this.wrapProperty("name",p),this}value(p){return this.wrapProperty("value",p),this}placeholder(p){return this.wrapProperty("placeholder",p),this}for(p){return this.wrapProperty("for",p),this}checked(p){return this.wrapProperty("checked",p),this}disabled(p){return this.wrapProperty("disabled",p),this}selected(p){return this.wrapProperty("selected",p),this}href(p){return this.wrapProperty("href",p),this}target(p){return this.wrapProperty("target",p),this}rel(p){return this.wrapProperty("rel",p),this}required(p){return this.wrapProperty("required",p),this}multiple(p){return this.wrapProperty("multiple",p),this}accept(p){return this.wrapProperty("accept",p),this}acceptCharset(p){return this.wrapProperty("acceptCharset",p),this}action(p){return this.wrapProperty("action",p),this}autocomplete(p){return this.wrapProperty("autocomplete",p),this}enctype(p){return this.wrapProperty("enctype",p),this}method(p){return this.wrapProperty("method",p),this}novalidate(p){return this.wrapProperty("novalidate",p),this}}class _{static button(p){return p.classes??=[],h("button").applyGenericConfig(p).onclick(p.onclick).children(L(p.icon,()=>_.icon(p.icon)),L(p.text,()=>_.text({text:p.text}))).build()}static input(p){return h("input").applyGenericConfig(p).type(p.type).value(p.value).accept(p.accept).placeholder(p.placeholder).onchange((C)=>{if(p.onchange)p.onchange(C.target.value)}).name(p.name).build()}static area(p){return p.classes??=[],p.children??=[],h(p.tag??"div").applyGenericConfig(p).classes("fjsc-area").children(...p.children).build()}static container(p){return p.classes??=[],p.children??=[],h(p.tag??"div").applyGenericConfig(p).classes("fjsc-container").children(...p.children).build()}static text(p){return h(p.tag??"span").applyGenericConfig(p).text(p.text).build()}static heading(p){return h(`h${p.level??1}`).applyGenericConfig(p).text(p.text).build()}static icon(p){let C=p.icon,s=!p.isUrl,x=p.adaptive?"adaptive-icon":"static-icon";if(s)return h("i").applyGenericConfig(p).classes(x,"material-symbols-outlined","no-pointer").text(C).build();return h("img").applyGenericConfig(p).classes(x,"no-pointer").attributes("src",C).build()}static searchableSelect(p){let C=p.options??B([]),s=p.value??B(null),x=B(C.value.find((I)=>I.id===s.value)?.name??""),G=B(!1),j=B(C.value),O=B(0),f=()=>{j.value=C.value.filter((I)=>I.name.toLowerCase().includes(x.value.toLowerCase()))};C.subscribe(f),x.subscribe(f),f();let $=B(C.value[0]?.id??null),A=()=>{$.value=j.value[O.value]?.id};O.subscribe(A),j.subscribe(A),A();let W=H(G,(I)=>I?"arrow_drop_up":"arrow_drop_down");return h("div").applyGenericConfig(p).classes("fjsc-search-select","flex-v","relative").children(h("div").classes("flex","fjsc-search-select-visible").children(h("input").classes("fjsc","fjsc-search-select-input").value(x).onfocus(()=>{G.value=!0}).onkeydown((I)=>{switch(I.key){case"Enter":I.preventDefault(),I.stopPropagation();let z=j.value[O.value];s.value=z?.id??s.value,x.value=z?.name??x.value,G.value=!1;break;case"ArrowDown":I.preventDefault(),I.stopPropagation(),O.value=(O.value+1)%j.value.length;break;case"ArrowUp":I.preventDefault(),I.stopPropagation(),O.value=(O.value-1+j.value.length)%j.value.length;break;case"Escape":case"Tab":G.value=!1;break;default:if(I.keyCode>32&&I.keyCode<126||I.key==="Backspace")setTimeout(()=>{x.value=I.target.value,O.value=0});break}}).build(),h("div").classes("fjsc-search-select-dropdown").onclick(()=>{G.value=!G.value}).children(_.icon({icon:W,adaptive:!0,isUrl:!1})).build()).build(),L(G,Q(j,h("div").classes("fjsc-search-select-options","flex-v"),(I)=>_.searchSelectOption({option:I,value:s,search:x,optionsVisible:G,selectedId:$})))).build()}static searchSelectOption(p){let C,s=H(p.selectedId,(x)=>{return C?.scrollIntoView({behavior:"smooth",block:"nearest"}),x===p.option.id?"selected":"_"});return C=h("div").classes("fjsc-search-select-option","flex","gap","padded",s).onclick(()=>{p.value.value=p.option.id,p.search.value=p.option.name,p.optionsVisible.value=!1}).children(L(p.option.image,_.icon({icon:p.option.image,isUrl:p.option.imageIsUrl,adaptive:!0})),h("span").text(p.option.name).build()).build(),C}static checkbox(p){return h("label").applyGenericConfig(p).classes("fjsc-checkbox-container").text(p.text).children(h("input").type("checkbox").name(p.name??"").id(p.name??"").required(p.required??!1).checked(p.checked).onchange((C)=>p.onchange(C.target.checked)).build(),h("span").classes("fjsc-checkmark").children(h("span").classes("fjsc-checkmark-icon").text("\u2713").build()).build()).build()}static toggle(p){return h("label").applyGenericConfig(p).classes("flex","gap","align-children").for(p.name??"").children(h("input").type("checkbox").classes("hidden","fjsc-slider").id(p.name??"").required(p.required??!1).checked(p.checked).onclick((C)=>p.onchange(C.target.checked)).build(),h("div").classes("fjsc-toggle-container").children(h("span").classes("fjsc-toggle-slider").build()).build(),h("span").classes("fjsc-toggle-text").text(p.text??"").build()).build()}}export{_ as FJSC};

//# debugId=8053369BDDFA4E3264756E2164756E21
//# sourceMappingURL=FJSC.js.map
